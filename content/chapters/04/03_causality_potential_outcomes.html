
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Causality and Potential Outcomes &#8212; Data, Inference, and Decisions</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/chapters/04/03_causality_potential_outcomes';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Causal Inference in Randomized Experiments" href="04_randomized_experiments.html" />
    <link rel="prev" title="Quantifying Association" href="02_quantifying_association.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Data, Inference, and Decisions</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    Data, Inference, and Decisions
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../01/intro.html">Chapter 1: Binary Decision-Making</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../01/01_decisions_and_errors.html">Binary Decision-Making and Error Rates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/02_hypothesis_testing.html">Hypothesis Testing and p-Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/03_multiple_tests.html">Multiple Hypothesis Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/04_binary_classification.html">Binary Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../01/05_decision_theory.html">Decision Theory</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../02/intro.html">Chapter 2: Bayesian modeling</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../02/01_parameter_estimation.html">Parameter Estimation and Bayesian Inference Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/02_hierarchical_models.html">Hierarchical Bayesian Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/03_graphical_models.html">Graphical Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/04_inference.html">Bayesian Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02/05_inference_with_sampling.html">Bayesian Inference with Sampling</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../03/intro.html">Chapter 3: Prediction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../03/01_prediction.html">Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/02_regression_review.html">Linear Regression Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/03_glms.html">Generalized Linear Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/04_model_checking.html">Model Checking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/05_uncertainty_quantification.html">Uncertainty Quantification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/06_nonparametric.html">Nonparametric Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03/07_neural_networks.html">Neural Networks</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="intro.html">Chapter 4: Causal Inference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_association_correlation_causation.html">Understanding Association</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_quantifying_association.html">Quantifying Association</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Causality and Potential Outcomes</a></li>
<li class="toctree-l2"><a class="reference internal" href="04_randomized_experiments.html">Causality in Randomized Experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="05_observational_studies_unconfoundedness.html">Causality in Observational Studies: Unconfoundedness</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_instrumental_variables.html">Causality in Observational Studies: Natural Experiments</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ds-102/ds-102-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ds-102/ds-102-book/issues/new?title=Issue%20on%20page%20%2Fcontent/chapters/04/03_causality_potential_outcomes.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/content/chapters/04/03_causality_potential_outcomes.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Causality and Potential Outcomes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-causality-optional">What is causality? (Optional)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-does-causality-matter">Why does causality matter?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-is-causality-hard">Why is causality hard?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-outcomes-and-counterfactuals">Potential outcomes and counterfactuals</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#notation">Notation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#average-treatment-effect">Average treatment effect</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outcomes-fixed-or-random">Outcomes: fixed or random?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stable-unit-treatment-value-assumption-sutva">Stable Unit Treatment Value Assumption (SUTVA)</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="causality-and-potential-outcomes">
<h1>Causality and Potential Outcomes<a class="headerlink" href="#causality-and-potential-outcomes" title="Link to this heading">#</a></h1>
<p>Now that we understand association and correlation (and their limitations), we are ready to begin our journey into causal inference. We’ll start with a discussion of the concept of causality: what it means, and why it matters. Then, we’ll define a specific way of thinking about causality, using counterfactual reasoning, that will guide the remainder of our study of causal inference.</p>
<section id="what-is-causality-optional">
<h2>What is causality? (Optional)<a class="headerlink" href="#what-is-causality-optional" title="Link to this heading">#</a></h2>
<p>To understand causality, let’s explore the meaning of the word “cause”. Consider the following sentences: all of them use words like “causes” or “because”, and they are all valid sentences in modern English, but the meaning of “cause” is slightly different in each one:</p>
<ol class="arabic simple">
<li><p>The soccer ball moved because I kicked it.</p></li>
<li><p>The couple broke up because one of them moved to another country.</p></li>
<li><p>I am who I am today because of my parents.</p></li>
<li><p>Gravity causes objects to fall to the Earth.</p></li>
<li><p>Down Syndrome is caused by having 3 copies of chromosome 21.</p></li>
<li><p>Humans burning fossil fuels is causing climate change.</p></li>
<li><p>Barbarian invasions caused the Roman Empire to fall.</p></li>
<li><p>Smoking causes lung cancer.</p></li>
</ol>
<p>Most modern understanding of the word “cause” aligns with what the Greek philosopher Aristotle called “agent” or “efficient” cause: where one agent or object brings about change in another. Taking a closer look at the examples above, if we limit ourselves to this understanding, we should eliminate sentences 3 and 4. In sentence 3, the thing being “caused” is “who I am today”, which doesn’t fall under the idea of a “change”. Similarly, in sentence 4, the thing doing the causing is “gravity”, which isn’t a specific thing or object, but rather a conceptual physical theory. Note that this is a subjective determination!</p>
<p>One way to think about cause is to divide the statements above into <em>deterministic</em> and <em>probabilistic</em> cause. What do these mean? If A is a deterministic cause of B, then whenever A happens, B must happen. In contrast, if A is a probabilistic cause of B, then whenever A happens, the probability of B increases. Going back to our examples above, sentences 1, 5, and 6 are all statements of deterministic causality. This doesn’t mean that the causality in the remaining sentences (2, 7, and 8) isn’t real! For example, consider statement 7: most historians believe that the Roman Empire was in a prolonged state of decline before the barbarian invasions. However, those invasions still had a real, tangible impact on the empire’s fall.</p>
<p>There are many other ways of thinking about causality: for example, we can divide the statements above into instance causality and class causality; single cause and multiple cause; simple action and compound action; and much more.</p>
</section>
<section id="why-does-causality-matter">
<h2>Why does causality matter?<a class="headerlink" href="#why-does-causality-matter" title="Link to this heading">#</a></h2>
<p><em>Coming soon</em></p>
</section>
<section id="why-is-causality-hard">
<h2>Why is causality hard?<a class="headerlink" href="#why-is-causality-hard" title="Link to this heading">#</a></h2>
<p><em>Text coming soon: see video</em></p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/UlI6hBz59oo"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
</section>
<section id="potential-outcomes-and-counterfactuals">
<h2>Potential outcomes and counterfactuals<a class="headerlink" href="#potential-outcomes-and-counterfactuals" title="Link to this heading">#</a></h2>
<p><em>Some of this material is covered in <a class="reference external" href="https://inferentialthinking.com/chapters/12/2/Causality.html#potential-outcomes">Section 12.2 of the Data 8 textbook</a> from a more conceptual lens.</em></p>
<p>Suppose you have a fever, and you decide to take an aspirin. If your fever went away an hour later, how can we know whether the aspirin <em>caused</em> your fever to go down? To help us answer this question, consider the following thought experiment: imagine yourself in two parallel universes. In Universe 1, you took the aspirin. In Universe 0, you didn’t take the aspirin. If your fever improved by the same amount in both universes, then that seems like strong evidence that the aspirin did <em>not</em> cause your fever to go down. On the other hand, if your fever went down in Universe 1 and not in Universe 0, then that seems like strong evidence that the aspirin <em>did</em> cause your fever to go down.</p>
<p>Notationally, we’ll use <span class="math notranslate nohighlight">\(Y(1)\)</span> to denote the outcome (in this case, your temperature) in Universe 1, and <span class="math notranslate nohighlight">\(Y(0)\)</span> for the outcome in Universe 0 (<em>Note: You may also see people use superscripts, e.g., <span class="math notranslate nohighlight">\(Y^0\)</span> and <span class="math notranslate nohighlight">\(Y^1\)</span>, but in this class we’ll consistently use <span class="math notranslate nohighlight">\(Y(0)\)</span> and <span class="math notranslate nohighlight">\(Y(1)\)</span>)</em>. In any real-world data, we only get to observe one of these: in the example above, if you decided to take the aspirin, then you would only ever observe <span class="math notranslate nohighlight">\(Y(1)\)</span>. For this reason, the other universe is often called the <strong>counterfactual</strong> universe. This brings us to the <strong>fundamental problem of causal inference</strong>: that we can never observe both <span class="math notranslate nohighlight">\(Y(1)\)</span> and <span class="math notranslate nohighlight">\(Y(0)\)</span> for the same individual.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/G1VlgMGMP4c"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<section id="notation">
<h3>Notation<a class="headerlink" href="#notation" title="Link to this heading">#</a></h3>
<p>Suppose we’re interested in whether a particular treatment causes a particular outcome. We’ll mostly limit ourselves to the case where the treatment is  binary. We’re interested in whether applying the treatment to a particular <em>unit</em> causes a change in the outcome. Here, the word <em>unit</em> refers to the individuals in our study. They could be individual people, groups of people, or even inanimate objects (e.g., in a study on whether fertilizer causes increased crop yields, the units might be fields, or they they might be individual plants). We’ll use the following notation:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Y_i(0)\)</span> and <span class="math notranslate nohighlight">\(Y_i(1)\)</span> are the potential outcomes for unit <span class="math notranslate nohighlight">\(i\)</span>: they’re the outcomes for the universe where unit <span class="math notranslate nohighlight">\(i\)</span> wasn’t/was treated, respectively.</p></li>
<li><p><span class="math notranslate nohighlight">\(Z_i\)</span> tells us whether unit <span class="math notranslate nohighlight">\(i\)</span> was treated or not.</p>
<ul>
<li><p>For example, if <span class="math notranslate nohighlight">\(Z_7 = 1\)</span>, that means unit 7 was treated, and we only got to observe <span class="math notranslate nohighlight">\(Y_7(1)\)</span> (and did not get to observe <span class="math notranslate nohighlight">\(Y_7(0)\)</span>).</p></li>
</ul>
</li>
<li><p><span class="math notranslate nohighlight">\(Y_{i, obs}\)</span> is shorthand for “the outcome in the universe that we actually observed”.</p>
<ul>
<li><p>In other words, <span class="math notranslate nohighlight">\(Y_{i, obs} = Y_i(Z_i)\)</span>.</p></li>
<li><p>In cases where <span class="math notranslate nohighlight">\(Z_i\)</span> is binary, we can write <span class="math notranslate nohighlight">\(Y_{i,obs} = Z_i \cdot Y_i(1) + (1-Z_i) \cdot Y_i(0)\)</span>.</p></li>
<li><p>We’ll sometimes use the notation <span class="math notranslate nohighlight">\(Y_i\)</span> as shorthand for <span class="math notranslate nohighlight">\(Y_{i,obs}\)</span>.</p></li>
<li><p>We’ll also use the notation <span class="math notranslate nohighlight">\(Y_i(\cdot)\)</span> as shorthand for the pair <span class="math notranslate nohighlight">\(\big(Y_i(0), Y_i(1)\big)\)</span>.</p></li>
</ul>
</li>
</ul>
<p>We can visualize the potential outcomes in a table:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Unit (<span class="math notranslate nohighlight">\(i\)</span>)</p></th>
<th class="head"><p>Outcome if not treated</p></th>
<th class="head"><p>Outcome if treated</p></th>
<th class="head"><p>Treated or not?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_1(0)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Y_1(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_1\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_2(0)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Y_2(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_2\)</span></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_3(0)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Y_3(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_3\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_4(0)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Y_4(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_4\)</span></p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_5(0)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Y_5(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_5\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>In reality, we never get to observe the entire table. Instead, the data we observe look more like:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Unit</p></th>
<th class="head"><p>Outcome if not treated</p></th>
<th class="head"><p>Outcome if treated</p></th>
<th class="head"><p>Treated or not?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>?</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_1(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_1=1\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_2(0)\)</span></p></td>
<td><p>?</p></td>
<td><p><span class="math notranslate nohighlight">\(Z_2=0\)</span></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_3(0)\)</span></p></td>
<td><p>?</p></td>
<td><p><span class="math notranslate nohighlight">\(Z_3=0\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>?</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_4(1)\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(Z_4=1\)</span></p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p><span class="math notranslate nohighlight">\(Y_5(0)\)</span></p></td>
<td><p>?</p></td>
<td><p><span class="math notranslate nohighlight">\(Z_5=0\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>It’s important to keep the right intuition in mind for <span class="math notranslate nohighlight">\(Z_i\)</span>: this variable does not represent the treatment itself; instead, it represents the decision on whether or not to treat unit <span class="math notranslate nohighlight">\(i\)</span>. The effect of the treatment itself is captured in the difference between <span class="math notranslate nohighlight">\(Y_i(0)\)</span> and <span class="math notranslate nohighlight">\(Y_i(1)\)</span>. Let’s look at two examples that make this distinction clearer. These examples also preview some of the insights we’ll develop further in the next two sections.</p>
<ul class="simple">
<li><p>In a randomized controlled trial, we randomly assign units to the treatment and control groups. Because the trial is randomized, the treatment/control assignment <span class="math notranslate nohighlight">\(Z_i\)</span> is independent of the potential outcomes <span class="math notranslate nohighlight">\((Y_i(0), Y_i(1))\)</span>. This doesn’t mean that the treatment is independent of the outcome we observe! (Remeber, the observed outcome is <span class="math notranslate nohighlight">\(Y_{i,obs} = Y_i(Z_i)\)</span>) It only means that in a randomized controlled trial, the <em>decision</em> on whether or not to treat is independent of the potential outcomes. We’ll see in this next section how this fact can be very useful.</p></li>
<li><p>Suppose we look at an observational study measuring the effect of yacht ownership on attitudes toward taxation. Here, <span class="math notranslate nohighlight">\(Z_i = 1 \)</span> if respondent <span class="math notranslate nohighlight">\(i\)</span> owns a yacht; <span class="math notranslate nohighlight">\(Y_i(0)\)</span> represents respondent <span class="math notranslate nohighlight">\(i\)</span>’s attitude toward taxation if they <em>did not</em> own a yacht; and <span class="math notranslate nohighlight">\(Y_i(0)\)</span> represents respondent <span class="math notranslate nohighlight">\(i\)</span>’s attitude toward taxation if they <em>did</em> own a yacht. In this case, we can intuitively see that if someone is wealthy enough to own a yacht, regardless of whether they do or not (i.e., whether they’re in Universe 1 or Universe 0), they will probably prefer lower taxes.</p></li>
</ul>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/k7w5D_ExSoE"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/kyhj08m8oJg"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
</section>
</section>
<section id="average-treatment-effect">
<h2>Average treatment effect<a class="headerlink" href="#average-treatment-effect" title="Link to this heading">#</a></h2>
<p>We’ve already seen that we can never know the difference <span class="math notranslate nohighlight">\(Y_i(1) - Y_i(0)\)</span> for an individual unit <span class="math notranslate nohighlight">\(i\)</span>, since we only get to observe one of the two. So, what we’ll do instead is look at the <strong>Average Treatment Effect (ATE)</strong>, which we’ll denote with the greek letter tau <span class="math notranslate nohighlight">\(\tau\)</span>:</p>
<div class="math notranslate nohighlight">
\[\text{ATE} = \tau = E[Y_i(1) - Y_i(0)]\]</div>
<p>Remember that the <span class="math notranslate nohighlight">\(Y_i(\cdot)\)</span>s are i.i.d. random variables, so the expectation here is over the randomness in that distribution. We’ll often drop the <span class="math notranslate nohighlight">\(i\)</span> in the notation for convenience.</p>
<p>If we knew all the data in the table above (including the counterfactual outcomes, marked with “?”), then we could take the difference in means of the two columns to find the ATE. But if we take the average of only the values we actually see, then we’re implicitly conditioning on the the treatment decision. In other words, if we computed the average of the second column (“Outcome if not treated”), it would be <span class="math notranslate nohighlight">\(E[Y(0) | Z = 0]\)</span>. How do we relate this conditional expectation to the unconditional one in the ATE? We’ve already seen how to do this: the tower property (also known as iterated expectation):</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
    \tau 
        &amp;= E[Y(1) - Y(0) | Z = 1]P(Z=1) + E[Y(1) - Y(0)|Z=0]P(Z=0) \\
        &amp;= \Big(\,\overbrace{E[Y(1) | Z = 1]}^{\text{observed}} - \overbrace{E[Y(0) | Z = 1]}^{\text{counterfactual}}\,\Big)P(Z=1) \, + \\
        &amp;  \quad\,\Big(\,\underbrace{E[Y(1)|Z=0]}_{\text{counterfactual}} - \underbrace{E[Y(0)|Z=0]}_{\text{observed}}\,\Big)P(Z=0)
\end{align}
\end{split}\]</div>
<p>Taking a closer look at these four terms, we see that two of them (the first and the last) correspond to data that we got to observe. Unfortunately, the middle two terms are counterfactual terms: if <span class="math notranslate nohighlight">\(Z_i=1\)</span>, then we don’t get to observe <span class="math notranslate nohighlight">\(Y_i(0)\)</span>!</p>
<p>In the next few sections, we’ll see ways of working around this problem.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
        <iframe
            width="400"
            height="300"
            src="https://www.youtube.com/embed/qmd3pnXvfao"
            frameborder="0"
            allowfullscreen
            
        ></iframe>
        </div></div>
</div>
</section>
<section id="outcomes-fixed-or-random">
<h2>Outcomes: fixed or random?<a class="headerlink" href="#outcomes-fixed-or-random" title="Link to this heading">#</a></h2>
<p>There are two different schools of thought around how to model the potential outcomes <span class="math notranslate nohighlight">\(Y_i(0)\)</span> and <span class="math notranslate nohighlight">\(Y_i(1)\)</span>:</p>
<ol class="arabic simple">
<li><p>In the <strong>fixed-sample approach</strong>, we assume that the potential outcomes <span class="math notranslate nohighlight">\(Y_i(0)\)</span> and <span class="math notranslate nohighlight">\(Y_i(1)\)</span> are fixed, and only <span class="math notranslate nohighlight">\(Z_i\)</span> is random. We observe one outcome <span class="math notranslate nohighlight">\(Y_{i,obs} = Y_i(Z_i)\)</span>, which is fixed and known, and the other is fixed and unknown.</p></li>
<li><p>In the <strong>superpopulation model</strong>, we assume that the tuples <span class="math notranslate nohighlight">\((Z_i, Y_i(0), Y_i(1))\)</span> are random and i.i.d.: in other words, there’s some joint distribution over treatment and potential outcomes, and each unit’s data (treament decision and potential outcomes) are independent of each other unit’s data.</p></li>
</ol>
<p>Historically, the fixed-sample approach was developed to analyze randomized experiments, and is still an active area of research. The superpopulation model is newer, and has been expanded in the last 40 years. It can be applied to both randomized experiments and observational studies.</p>
<p>In this book, we’ll focus on the superpopulation model.</p>
</section>
<section id="stable-unit-treatment-value-assumption-sutva">
<h2>Stable Unit Treatment Value Assumption (SUTVA)<a class="headerlink" href="#stable-unit-treatment-value-assumption-sutva" title="Link to this heading">#</a></h2>
<p>The stable unit treatment value assumption (SUTVA) is a pair of assumptions that we must meet in order to use the methods we’re about to develop. The assumptions are:</p>
<ol class="arabic simple">
<li></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/chapters/04"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="02_quantifying_association.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Quantifying Association</p>
      </div>
    </a>
    <a class="right-next"
       href="04_randomized_experiments.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Causal Inference in Randomized Experiments</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-causality-optional">What is causality? (Optional)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-does-causality-matter">Why does causality matter?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-is-causality-hard">Why is causality hard?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#potential-outcomes-and-counterfactuals">Potential outcomes and counterfactuals</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#notation">Notation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#average-treatment-effect">Average treatment effect</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outcomes-fixed-or-random">Outcomes: fixed or random?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stable-unit-treatment-value-assumption-sutva">Stable Unit Treatment Value Assumption (SUTVA)</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Data 102 Staff
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>